<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" type="text/css" media="all" href="../resources/css/bootstrap.min.css"/>
        <link rel="stylesheet" type="text/css" media="all" href="../resources/css/bootstrap-theme.min.css"/>
        <link rel="stylesheet" type="text/css" media="all" href="../resources/css/style.css"/>
    </h:head>
    <script src="../resources/js/jquery-3.2.1.min.js"></script>
    <script src="../resources/js/bootstrap.min.js"></script>
    <h:body>
        <ui:composition template="./../public/MasterTemplate.xhtml">
            <ui:define name="content">
                <h:panelGrid styleClass="Panelgroup">
                    <h3><span class="label label-default">General Settings > Manage Users > Edit User</span></h3>
                </h:panelGrid>
                <br></br>
                <f:view>
                    <h:form>
                        <h:panelGrid columns="3" styleClass="Panelgroup">
                            <h:outputLabel value="User ID: " for="idUser" />
                            <h:inputText disabled="true" id="idUser" class="form-control" value="#{usersMBean.objUser.idUser}" title="IdUser"/>
                            <h:inputHidden value="#{usersMBean.objUser.idUser}"/>

                            <h:outputLabel value="First Name: " for="firstName" />
                            <h:inputText id="firstName" class="form-control" value="#{usersMBean.objUser.firstName}" title="FirstName" required="true" requiredMessage="First Name is required." validator="NameIDValidator">
                                <f:ajax event="keyup" execute="@this" render="firstNameError"/>
                            </h:inputText>
                            <h:message for="firstName" id="firstNameError" style="color: red"/>

                            <h:outputLabel value="Last Name: " for="lastName" />
                            <h:inputText id="lastName" class="form-control" value="#{usersMBean.objUser.lastName}" title="LastName" required="true" requiredMessage="Last Name is required." validator="NameIDValidator">
                                <f:ajax event="keyup" execute="@this" render="lastNameError"/>
                            </h:inputText>
                            <h:message for="lastName" id="lastNameError" style="color: red"/>

                            <h:outputLabel value="Email: " for="email" />
                            <h:inputText id="email" class="form-control" value="#{usersMBean.objUser.email}" title="Email" required="true" requiredMessage="Email is required." validator="EmailIDValidator">
                                <f:ajax event="keyup" execute="@this" render="emailError"/>   
                            </h:inputText>
                            <h:message for="email" id="emailError" style="color: red"/>

                            <h:outputLabel value="Password: " for="password" />
                            <p:password id="password" class="form-control" value="#{usersMBean.objUser.password}" 
                                        title="Password" required="true" requiredMessage="Password is required."
                                        feedback="true" />
                            <h:column/>

                            <h:outputLabel value="User Type: " for="userType" />
                            <h:selectOneMenu id="userType" class="form-control" value="#{usersMBean.objUser.userType}">
                                <f:selectItem itemLabel="Bank Worker" itemValue="administrator" noSelectionOption="true" />
                                <f:selectItem itemLabel="Customer" itemValue="customer" noSelectionOption="true" />
                            </h:selectOneMenu>   
                            <h:column/>

                            <h:outputLabel value="Address: " for="address" />
                            <h:inputText id="address" class="form-control" value="#{usersMBean.objUser.address}" title="Address" required="true" requiredMessage="Address is required."/>
                            <h:message for="address" id="addressError" style="color: red"/>

                            <h:outputLabel value="Mobile Number: " for="phoneNumber" />
                            <h:inputText id="phoneNumber" class="form-control" value="#{usersMBean.objUser.phoneNumber}" title="PhoneNumber" required="true" requiredMessage="Phone Number is required." validator="PhoneIDValidator">
                                <f:ajax event="keyup" execute="@this" render="phoneError"/>
                            </h:inputText>
                            <h:message for="phoneNumber" id="phoneError" style="color: red"/>

                            <h:commandButton class="btn btn-primary" value="Save" action="#{usersMBean.EditUser}"></h:commandButton>
                        </h:panelGrid>
                    </h:form>
                </f:view>
            </ui:define>
        </ui:composition>
    </h:body>
</html>